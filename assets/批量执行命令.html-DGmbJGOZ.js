import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,e as t}from"./app-CUkK_AtP.js";const p={},e=t(`<div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">import</span> os
<span class="token keyword">import</span> re
<span class="token triple-quoted-string string">&#39;&#39;&#39;
批量执行命令, example: 
cwebp 80 /xxx/dir/bc_00029.png -o /yyy/dir/tts_status_29.webp
&#39;&#39;&#39;</span>
<span class="token keyword">def</span> <span class="token function">getFlist</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span>

source_dir <span class="token operator">=</span> <span class="token string">&#39;/xxx/dir/&#39;</span>
target_dir <span class="token operator">=</span> <span class="token string">&#39;/yyy/dir/&#39;</span>

isExists<span class="token operator">=</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>target_dir<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token keyword">not</span> isExists<span class="token punctuation">:</span>
    os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>target_dir<span class="token punctuation">)</span> 
    <span class="token keyword">print</span><span class="token punctuation">(</span>target_dir <span class="token operator">+</span> <span class="token string">&#39; 创建成功&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>target_dir <span class="token operator">+</span> <span class="token string">&#39; 目录已存在&#39;</span><span class="token punctuation">)</span>

file_names <span class="token operator">=</span> getFlist<span class="token punctuation">(</span>source_dir<span class="token punctuation">)</span>

<span class="token keyword">for</span> file_name <span class="token keyword">in</span> file_names<span class="token punctuation">:</span>
    file_count <span class="token operator">=</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">;</span>
    file_counts <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">&#39;[1-9]\\d*&#39;</span><span class="token punctuation">,</span> file_name<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>file_counts<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        file_count <span class="token operator">=</span> file_counts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

    cmd <span class="token operator">=</span> <span class="token string">&quot;cwebp 80 %s%s -o %stts_start_%s.webp&quot;</span> <span class="token operator">%</span> <span class="token punctuation">(</span>source_dir<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>file_name<span class="token punctuation">)</span><span class="token punctuation">,</span> target_dir<span class="token punctuation">,</span> file_count<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span>
    os<span class="token punctuation">.</span>system<span class="token punctuation">(</span>cmd<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),o=[e];function c(i,l){return s(),a("div",null,o)}const k=n(p,[["render",c],["__file","批量执行命令.html.vue"]]),d=JSON.parse(`{"path":"/blog/python/%E6%89%B9%E9%87%8F%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4.html","title":"Python批量执行png转webp命令","lang":"zh-CN","frontmatter":{"title":"Python批量执行png转webp命令","tag":["Python","Script"],"editLink":false,"comment":false,"head":[["meta",{"property":"og:url","content":"https://leslie-dd.github.io/leslie-blog/leslie-blog/blog/python/%E6%89%B9%E9%87%8F%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4.html"}],["meta",{"property":"og:site_name","content":"Leslie的博客"}],["meta",{"property":"og:title","content":"Python批量执行png转webp命令"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-07-20T03:36:48.000Z"}],["meta",{"property":"article:author","content":"Leslie"}],["meta",{"property":"article:tag","content":"Python"}],["meta",{"property":"article:tag","content":"Script"}],["meta",{"property":"article:modified_time","content":"2023-07-20T03:36:48.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Python批量执行png转webp命令\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-07-20T03:36:48.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Leslie\\",\\"url\\":\\"https://mrhope.site\\"}]}"]]},"headers":[],"git":{"createdTime":1664720147000,"updatedTime":1689824208000,"contributors":[{"name":"Leslie","email":"LeslieDYF@gmail.com","commits":1},{"name":"Leslie","email":"leslie_ding@163.com","commits":1}]},"readingTime":{"minutes":0.35,"words":106},"filePathRelative":"blog/python/批量执行命令.md","localizedDate":"2022年10月2日","excerpt":"<div class=\\"language-python\\" data-ext=\\"py\\" data-title=\\"py\\"><pre class=\\"language-python\\"><code><span class=\\"token keyword\\">import</span> os\\n<span class=\\"token keyword\\">import</span> re\\n<span class=\\"token triple-quoted-string string\\">'''\\n批量执行命令, example: \\ncwebp 80 /xxx/dir/bc_00029.png -o /yyy/dir/tts_status_29.webp\\n'''</span>\\n<span class=\\"token keyword\\">def</span> <span class=\\"token function\\">getFlist</span><span class=\\"token punctuation\\">(</span>path<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token keyword\\">return</span> os<span class=\\"token punctuation\\">.</span>listdir<span class=\\"token punctuation\\">(</span>path<span class=\\"token punctuation\\">)</span>\\n\\nsource_dir <span class=\\"token operator\\">=</span> <span class=\\"token string\\">'/xxx/dir/'</span>\\ntarget_dir <span class=\\"token operator\\">=</span> <span class=\\"token string\\">'/yyy/dir/'</span>\\n\\nisExists<span class=\\"token operator\\">=</span>os<span class=\\"token punctuation\\">.</span>path<span class=\\"token punctuation\\">.</span>exists<span class=\\"token punctuation\\">(</span>target_dir<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">if</span> <span class=\\"token keyword\\">not</span> isExists<span class=\\"token punctuation\\">:</span>\\n    os<span class=\\"token punctuation\\">.</span>makedirs<span class=\\"token punctuation\\">(</span>target_dir<span class=\\"token punctuation\\">)</span> \\n    <span class=\\"token keyword\\">print</span><span class=\\"token punctuation\\">(</span>target_dir <span class=\\"token operator\\">+</span> <span class=\\"token string\\">' 创建成功'</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">else</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token keyword\\">print</span><span class=\\"token punctuation\\">(</span>target_dir <span class=\\"token operator\\">+</span> <span class=\\"token string\\">' 目录已存在'</span><span class=\\"token punctuation\\">)</span>\\n\\nfile_names <span class=\\"token operator\\">=</span> getFlist<span class=\\"token punctuation\\">(</span>source_dir<span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token keyword\\">for</span> file_name <span class=\\"token keyword\\">in</span> file_names<span class=\\"token punctuation\\">:</span>\\n    file_count <span class=\\"token operator\\">=</span> <span class=\\"token string\\">'0'</span><span class=\\"token punctuation\\">;</span>\\n    file_counts <span class=\\"token operator\\">=</span> re<span class=\\"token punctuation\\">.</span>findall<span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'[1-9]\\\\d*'</span><span class=\\"token punctuation\\">,</span> file_name<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token keyword\\">if</span> <span class=\\"token builtin\\">len</span><span class=\\"token punctuation\\">(</span>file_counts<span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">&gt;</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">:</span>\\n        file_count <span class=\\"token operator\\">=</span> file_counts<span class=\\"token punctuation\\">[</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">]</span>\\n\\n    cmd <span class=\\"token operator\\">=</span> <span class=\\"token string\\">\\"cwebp 80 %s%s -o %stts_start_%s.webp\\"</span> <span class=\\"token operator\\">%</span> <span class=\\"token punctuation\\">(</span>source_dir<span class=\\"token punctuation\\">,</span> <span class=\\"token builtin\\">str</span><span class=\\"token punctuation\\">(</span>file_name<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">,</span> target_dir<span class=\\"token punctuation\\">,</span> file_count<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token keyword\\">print</span><span class=\\"token punctuation\\">(</span>cmd<span class=\\"token punctuation\\">)</span>\\n    os<span class=\\"token punctuation\\">.</span>system<span class=\\"token punctuation\\">(</span>cmd<span class=\\"token punctuation\\">)</span>\\n\\n</code></pre></div>"}`);export{k as comp,d as data};
