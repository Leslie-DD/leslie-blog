import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as i,c as r,a as e,b as t,d as n,e as s}from"./app-4HszQytP.js";const c={},m=e("div",{class:"hint-container note"},[e("p",{class:"hint-container-title"},"背景"),e("p",null,"由于"),e("ol",null,[e("li",null,"本地 Tomcat 和 服务器 Tomcat 配置可能有略微差异"),e("li",null,[t("每次部署到服务器还得用 scp 上传 war 包"),e("br"),t(" 所以想直接将 project 通过 idea 编译运行并直接部署到远程服务器的 Tomcat。一来更方便，二来也更能发现代码或环境配置等的问题。")])]),e("p",null,"但没想到这是个大坑……")],-1),p=e("p",null,"首先 Idea 如何配置远程 Tomcat 连接网上的参考都比较多了，这里主要记录下遇到的问题，主要在于服务器 Tomcat 的配置。",-1),d={class:"hint-container caution"},u=e("p",{class:"hint-container-title"},"服务器 Tomcat 配置遇到的问题",-1),h=e("li",null,"idea 提示 Unable to connect to the [你的服务器ip地址]:1099",-1),_={href:"http://cataline.sh",target:"_blank",rel:"noopener noreferrer"},g=s(`<h2 id="针对问题一" tabindex="-1"><a class="header-anchor" href="#针对问题一"><span>针对问题一</span></a></h2><p>其实网上有很多解决方法，要在../你的tomcat目录/bin/cataline.sh中添加额外配置。<br> 类似于下面这样：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Dcom.sun.management.jmxremote=
-Dcom.sun.management.jmxremote.port=1099
-Dcom.sun.management.jmxremote.ssl=false
-Dcom.sun.management.jmxremote.authenticate=false
-Djava.rmi.server.hostname=[你的服务器ip地址]&quot;</span>

<span class="token builtin class-name">export</span> JAVA_OPTS
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>但是添加后又出问题了，<code>sudo ./startup.sh</code> 启动 tomcat 报错， 说什么配置的这几行东西 not found 啥的……</p><h2 id="针对新出现的问题二" tabindex="-1"><a class="header-anchor" href="#针对新出现的问题二"><span>针对新出现的问题二</span></a></h2>`,5),v=e("strong",null,"最后发现是换行的问题",-1),b={href:"https://blog.csdn.net/weixin_47405768/article/details/127309113?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168978198716800188599605%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=168978198716800188599605&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-19-127309113-null-null.142",target:"_blank",rel:"noopener noreferrer"},T=s(`<p>整了一晚上的问题，最后发现是没有换行，谁能体会这种痛苦，真 CTM 了……</p><p>真正起作用的配置：(注意配置自己的服务器ip地址)</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token assign-left variable">CATALINA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=1099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.rmi.server.hostname=[你的服务器ip地址]&quot;</span>
<span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Dcom.sun.management.jmxremote= -Dcom.sun.management.jmxremote.port=1099 -Dcom.sun.management.jmxremote.rmi.port=1099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.rmi.server.hostname=[你的服务器ip地址]&quot;</span>
<span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$JAVA_OPTS</span> -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005&quot;</span>
<span class="token builtin class-name">export</span> JAVA_OPTS
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),f={href:"http://cataline.sh",target:"_blank",rel:"noopener noreferrer"},k=e("code",null,"sudo ./cataline.sh",-1),x=e("code",null,"sudo ./startup.sh",-1),y=e("div",{class:"hint-container warning"},[e("p",{class:"hint-container-title"},"其他小问题"),e("ul",null,[e("li",null,[t("重新通过 idea 往 remote Tomcat 部署项目的时候可能会提示 upload file permission denied，这是因为 tomcat 文件夹权限的原因，对于 linux 权限不是很了解，直接 "),e("code",null,"sudo chmod 777 -R ./tomcat9"),t(" 赋了 777 权限（"),e("strong",null,"很不推荐"),t("）")]),e("li",null,[t("关闭 Tomcat "),e("code",null,"sudo ./shutup.sh"),t(" 如果执行失败，可以尝试直接杀死 Tomcat 进程 "),e("code",null,"sudo pkill -9 -f tomcat")])])],-1);function D(j,A){const a=l("ExternalLinkIcon");return i(),r("div",null,[m,p,e("div",d,[u,e("ol",null,[h,e("li",null,[t("配置好 tomcat "),e("a",_,[t("cataline.sh"),n(a)]),t(" 后，Tomcat 启动失败")])])]),g,e("p",null,[v,t(),e("a",b,[t("参考博客"),n(a)])]),T,e("p",null,[t("配置完成后，先执行 "),e("a",f,[t("cataline.sh"),n(a)]),t(),k,t("，然后启动 tomcat "),x,t("，应该就没问题了")]),y])}const S=o(c,[["render",D],["__file","IdeaRemoteDeploy.html.vue"]]),L=JSON.parse('{"path":"/tutorial/server/IdeaRemoteDeploy.html","title":"Idea 部署项目到远程 Tomcat 踩坑","lang":"zh-CN","frontmatter":{"title":"Idea 部署项目到远程 Tomcat 踩坑","author":"Leslie","date":"2023-07-20T00:00:00.000Z","tag":["Idea","Tomcat","Server"],"copyright":"Copyright © 2023 Leslie","description":"背景 由于 本地 Tomcat 和 服务器 Tomcat 配置可能有略微差异 每次部署到服务器还得用 scp 上传 war 包 所以想直接将 project 通过 idea 编译运行并直接部署到远程服务器的 Tomcat。一来更方便，二来也更能发现代码或环境配置等的问题。 但没想到这是个大坑…… 首先 Idea 如何配置远程 Tomcat 连接网上的参...","head":[["meta",{"property":"og:url","content":"https://leslie-dd.github.io/leslie-blog/leslie-blog/tutorial/server/IdeaRemoteDeploy.html"}],["meta",{"property":"og:site_name","content":"Leslie的博客"}],["meta",{"property":"og:title","content":"Idea 部署项目到远程 Tomcat 踩坑"}],["meta",{"property":"og:description","content":"背景 由于 本地 Tomcat 和 服务器 Tomcat 配置可能有略微差异 每次部署到服务器还得用 scp 上传 war 包 所以想直接将 project 通过 idea 编译运行并直接部署到远程服务器的 Tomcat。一来更方便，二来也更能发现代码或环境配置等的问题。 但没想到这是个大坑…… 首先 Idea 如何配置远程 Tomcat 连接网上的参..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-17T18:21:17.000Z"}],["meta",{"property":"article:author","content":"Leslie"}],["meta",{"property":"article:tag","content":"Idea"}],["meta",{"property":"article:tag","content":"Tomcat"}],["meta",{"property":"article:tag","content":"Server"}],["meta",{"property":"article:published_time","content":"2023-07-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-17T18:21:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Idea 部署项目到远程 Tomcat 踩坑\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-07-20T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-17T18:21:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Leslie\\"}]}"]]},"headers":[{"level":2,"title":"针对问题一","slug":"针对问题一","link":"#针对问题一","children":[]},{"level":2,"title":"针对新出现的问题二","slug":"针对新出现的问题二","link":"#针对新出现的问题二","children":[]}],"git":{"createdTime":1689824208000,"updatedTime":1713378077000,"contributors":[{"name":"Leslie","email":"LeslieDYF@gmail.com","commits":1}]},"readingTime":{"minutes":1.94,"words":583},"filePathRelative":"tutorial/server/IdeaRemoteDeploy.md","localizedDate":"2023年7月20日","excerpt":"<div class=\\"hint-container note\\">\\n<p class=\\"hint-container-title\\">背景</p>\\n<p>由于</p>\\n<ol>\\n<li>本地 Tomcat 和 服务器 Tomcat 配置可能有略微差异</li>\\n<li>每次部署到服务器还得用 scp 上传 war 包<br>\\n所以想直接将 project 通过 idea 编译运行并直接部署到远程服务器的 Tomcat。一来更方便，二来也更能发现代码或环境配置等的问题。</li>\\n</ol>\\n<p>但没想到这是个大坑……</p>\\n</div>\\n<p>首先 Idea 如何配置远程 Tomcat 连接网上的参考都比较多了，这里主要记录下遇到的问题，主要在于服务器 Tomcat 的配置。</p>","autoDesc":true}');export{S as comp,L as data};
